# 为什么不应该向单个索引持续写入数据

>  巨大的索引在数据老化后很难删除, 以 _id 为单位删除文档后不会立刻释放空间，删除的文档只在 Lucene 分段合并时才会真正的从磁盘中删除。即使手动触发分段合并，仍然会有较高的 I/O 压力，并且可能因为分段巨大导致在合并过程中磁盘空间不足（分段大小大于磁盘可用空间的一半）。因此，我们建议周期性的创建新索引，比如每天创建一个，按照日期来命名。这样，对于业务方来说，当需要删除数据的时候，可以直接删除整个索引。

> 周期性创建新索引带来的一个问题就是集群整体分片数量较多，集群管理的总分片数越多压力就会越大。在每天生成一个新索引的场景中，可能每天产生的数据量很小，实际上不需要这么多分片，甚至一个就够，这时，可以使用 _shrink API 来缩减主分片数量，降低集群负载。

