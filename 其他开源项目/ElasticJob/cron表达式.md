# cron 表达式组成部分

`cron` 表达式整体是一个字符串，一共分为 7 个部分，子表达式之间使用空格表示。

```xml
cron="1 2 3 4 5 6 7"
```

* 1：`Seconds` 代表秒 
  * 可以使用数字 0-59 来表示
* 2：`Minutes` 代表分钟
  * 可以使用数字 0-59 来表示
* 3：`Hours` 代表小时
  * 可以使用数字 0-23 来表示
* 4：`Day-of-Month`  代表月份中的某一天
  * 可以使用数字 1-31 来表示（需要注意有的月份没有30或者31号）
* 5：`Month` 代表月份
  * 可以使用数字 0-11 或者使用字符串 `JAN, FEB, MAR, APR, MAY, JUN, JUL, AUG, SEP, OCT, NOV, DEC` 来表示对应的月份
* 6：`Day-of-Week` 代表周几的意思
  * 可以用数字1-7表示（1 ＝ 星期日）或用字符口串 `SUN, MON, TUE, WED, THU, FRI , SAT` 表示
* 7：`Year` 表示年份（可选）

# 特殊符号

* `/` **表示间隔的意思，用于指定增量**

```java
cron="0/3 * * * * *"
```

比如上面的表达式， `0/3` 是处在第一个位置，所以首先知道表示的是 **秒**，前面的 0 表示从0秒开始，`/` 后面的 3 表示每隔 3 秒执行一次。由于后面几个子表达式都是 `*` ，所以整体就表示每隔 3 秒执行一次。

* `?` 用于 Day-of-Month 和 Day-of-Week 中，表示 **没有具体的值**的意思，这两个表达式中档其中一个被指定了，另外一个就需要被设置成 `?`, 这是为了避免冲突。

```java
cron="0 0 0 20 * ?";
cron="0 0 0 ? * SUN";
```

比如看上述的两个表达式，第一个表示的是每个月的20号执行，如果第 6 个位置（表示Day-of-Week）不是 ？，比如指定 `cron="0 0 0 20 * JAN";` 这个表示每个月20号，然后每个星期一 执行，要知道每个月20号不一定是星期一，所以会有冲突。

* `*` **表示所有可能的值**
  * `*` 在 `Month` 中表示每个月
  * `*` 在 `Day-of-Month` 中表示每天，其余的类似
* `-` **横杠表示范围**
  * 比如在星期中可以不指定具体值，指定一个范围  `MON-FRI` 表示周一到周五
* `,` **英文的逗号，表示列举多个值**， 比如在 `MON,FRI` 表示周一和周五
*  `L` 大写的 L， 用在 `day-of-month` 和 `day-of-week` 字串中。它是单词 `last` 的缩写。它在两个子表达式中的含义是不同的
  * 在 `day-of-month` 中，“L” 表示一个月的最后一天，一月31号，3月30号
  * 在 `day-of-week` 中，“L” 表示一个星期的最后一天，也就是 “7” 或者 “SAT”
  * 如果 “L” 前有具体内容，它就有其他的含义了。例如：“6L” 表示这个月的倒数第六天。“FRIL” 表示这个月的最后一个星期五
* `W` 大写的 W 是 `Weekday` 的缩写，只能用在 `day-of-month` 字段。用来描叙最接近指定天的工作日（周一到周五）。例如：在 `day-of-month` 字段用 “15W” 指“最接近这个月第15天的工作日”，即如果这个月第15天是周六，那么触发器将会在这个月第14天即周五触发；如果这个月第15天是周日，那么触发器将会在这个月第 16天即周一触发；如果这个月第15天是周二，那么就在触发器这天触发。**这个用法只会在当前月计算值，不会越过当前月**。“W” 字符仅能在 `day-of-month` 指明一天，不能是一个范围或列表。也可以用“LW”来指定这个月的最后一个工作日，即最后一个星期五。
* `#` 只能用在 `day-of-week` 字段。用来指定这个月的第几个周几。例：在 `day-of-week` 字段用 "6#3" or "FRI#3" 指这个月第3个周五（6指周五，3指第3个）。如果指定的日期不存在，触发器就不会触发
* `C`  字符 “C” 允许在日期域和星期域出现。这个字符依靠一个指定的“日历”。也就是说这个表达式的值依赖于相关的“日历”的计算结果，如果没有“日历”关联，则等价于所有包含的“日历”。如：日期域是“5C”表示关联“日历”中第一天，或者这个月开始的第一天的后5天。星期域是“1C”表示关联“日历”中第一天，或者星期的第一天的后1天，也就是周日的后一天（周一）

# 每个表达式可使用的特殊字符

| 字段含义   | 允许的值          | 允许的特殊字符    |
| ---------- | ----------------- | ----------------- |
| 秒         | 0-59              | , - * /           |
| 分钟       | 0-59              | , - * /           |
| 小时       | 0-23              | , - * /           |
| 日         | 1-31              | , - * ? / L W C   |
| 月         | 0-11 或者 JAN-DEC | , - * /           |
| 周几       | 1-7 或者 SUN-SAT  | , - * ? / L C #   |
| 年（可选） | empty             | 1970-2099 , - * / |

# 示例

```java
0 * * * * ? 每分钟触发一次
0 0 * * * ? 每天每1小时触发一次
0 0 10 * * ? 每天10点触发一次
0 * 14 * * ? 在每天下午2点到下午2:59期间的每1分钟触发 
0 30 9 1 * ? 每月1号上午9点半
0 15 10 15 * ? 每月15日上午10:15触发

*/5 * * * * ? 每隔5秒执行一次
0 */1 * * * ? 每隔1分钟执行一次
0 0 5-15 * * ? 每天5-15点整点触发
0 0/3 * * * ? 每三分钟触发一次
0 0-5 14 * * ? 在每天下午2点到下午2:05期间的每1分钟触发 
0 0/5 14 * * ? 在每天下午2点到下午2:55期间的每5分钟触发
0 0/5 14,18 * * ? 在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发
0 0/30 9-17 * * ? 朝九晚五工作时间内每半小时
0 0 10,14,16 * * ? 每天上午10点，下午2点，4点 

0 0 12 ? * WED 表示每个星期三中午12点
0 0 17 ? * TUES,THUR,SAT 每周二、四、六下午五点
0 10,44 14 ? 3 WED 每年三月的星期三的下午2:10和2:44触发 
0 15 10 ? * MON-FRI 周一至周五的上午10:15触发

0 0 23 L * ? 每月最后一天23点执行一次
0 15 10 L * ? 每月最后一日的上午10:15触发 
0 15 10 ? * 6L 每月的最后一个星期五上午10:15触发 

0 15 10 * * ? 2005 2005年的每天上午10:15触发 
0 15 10 ? * 6L 2002-2005 2002年至2005年的每月的最后一个星期五上午10:15触发 
0 15 10 ? * 6#3 每月的第三个星期五上午10:15触发
```





